<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google Maps Game</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
            background-color: grey;
        }
        #btnStart {
            height: 40px;
            width: 150px;
            text-effect: emboss;
            font-weight: bold;
            font-size: larger;
        }
    </style>
</head>
<body>
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script>

        var arrMarkers = [[
                            [38.246735, -85.767436, "Louisville"],
                            [46.808521, -100.779420, "Bismarck"],
                            [36.170140, -115.179149, "Las Vegas"]
                        ],

                        [
                            [32.778796, -96.801408, "Dallas"],
                            [41.878398, -87.644291, "Chicago"],
                            [47.605504, -122.329045, "Seattle"]
                        ],

                        [
                            [42.335115, -83.051166, "Detroit"],
                            [25.765562, -80.197366, "Miami"],
                            [39.740774, -104.977362, "Denver"]
                        ]
                    ]
            ;

        var arrQuestions = [
                ["Which of these markers indicates Louisville?", "Louisville"],
                ["Which of these markers indicates Dallas?", "Dallas"],
                ["Which of these markers indicates Miami?", "Miami"]
        ];
        var questionNum = 0;
        var player_score = 0;

        function initMap() {
            var minneapolis = {lat: 44.97, lng: -93.26};
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 7,
                center: minneapolis,
                mapTypeId: 'satellite'
            });

            for (var x = 0; x < arrMarkers.length; x++) {
                for (var i = 0; i < arrMarkers[x].length; i++) {
                    var marker = new google.maps.Marker({
                        position: {lat: arrMarkers[x][i][0], lng: arrMarkers[x][i][1]},
                        map: map,
                        setVisible: false,
                        customInfo: arrMarkers[x][i][2]
//                    title: arrMarkers[i][2]
                    });
//                console.log(i + " is iteration num");
//                console.log(arrMarkers[i][2]);

                    marker.addListener('click', checkAnswer);
                }
            }
        }


    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADpIV1QKhmFLqGm_Bvver2BKbDM1EIpmg&callback=initMap"></script>

    <div id="questions">
        <br>
        <center><button type="button" id="btnStart">Click to Start!</button></center>


        <p id="response"> </p>
    </div>
    <script>
        var answerPara = document.getElementById("response");
        console.log(answerPara.innerHTML + "  hi");
        var mybutton = document.getElementById("btnStart");
        mybutton.addEventListener('click', startGame);

        function startGame() {

        }

        function checkAnswer() {
            for (var x = 0; x < arrQuestions.length; x++) {
                if (this.title == arrQuestions[x][1]) {
//                    alert(this.title + x);
                    setTimeout(answerPara.innerHTML = "Correct!", 3000);
                    questionNum++;
//                    console.log(questionNum);
                    selectQuestion(questionNum);
                }
                else {
                    setTimeout(answerPara.innerHTML = "Wrong. Try again.", 3000);
                    answerPara.innerHTML = "";
                    console.log("did i get here?");
                    return;
                }
            }
        }



















//        var allRadios = document.getElementsByClassName("firstQ");
////        document.getElementById("btn1").addEventListener("click", answerCheck);
////        console.log("ok");
//        for (var i = 0; i < allRadios.length; i++) {
////            console.log(allRadios[i].id);
//            allRadios[i].addEventListener('click', answerCheck);
//        }
//
//        marker1.addEventListener('click', answerCheck);
//
//        function answerCheck() {
//            actEle = document.activeElement;
//            console.log(actEle);
//            var btnOne = document.getElementById("btn1");
//            var btnTwo = document.getElementById("btn2");
//            var btnThree = document.getElementById("btn3");
//            if (btnThree.checked) {
//                alert("Correct!");
//            }
//            else if (btnTwo.checked || btnOne.checked) {
//                alert("Wrong!");
//            }
//        }


//function checkAnswer() {
//console.log(answerPara.id);
//    console.log(this.title + " is title");
//    console.log(arrQuestions[0][0]);

//    for (var x = 0; x < arrQuestions.length; x++) {
//        if (this.title == arrQuestions[x][1]) {
//            alert(this.title + x);
//            setTimeout(answerPara.innerHTML = "hey", 3000);
//        }
//    }
//}


        function selectQuestion(x) {
            document.getElementById("response").innerHTML = arrQuestions[x][0];
        }
        window.onload = selectQuestion(questionNum);

    </script>
</body>
</html>


       <!--http://stackoverflow.com/questions/6611634/google-maps-api-v3-add-event-listener-to-all-markers-->